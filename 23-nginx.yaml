- name: install nginx
  hosts: dynamic_frontend
  become: yes
  serial: 5 # if we give serial as 5, then playbook keeps executing after every 5 servers
  tasks:
  - name: install nginx
    ansible.builtin.dnf:
      name: nginx
      state: installed

  - name: run nginx
    ansible.builtin.service:
      name: nginx
      state: started
      enabled: yes